<div id="doom-clock-container" class="flex flex-col items-center justify-center p-4 bg-zinc-900 border border-red-900/30 relative overflow-hidden group">
    {% if gamestate.doom_clock >= gamestate.doom_max %}
    <div class="absolute inset-0 bg-red-600/20 animate-pulse z-0"></div>
    {% endif %}

    <h3 class="text-xs font-black text-red-600 uppercase tracking-[0.2em] mb-3 z-10">Nível de Ameaça</h3>
    
    <div class="relative w-24 h-24 rounded-full bg-zinc-950 border-4 border-zinc-800 shadow-xl z-10 flex items-center justify-center mb-3"
         style="background: conic-gradient(
            {{ '#dc2626' if gamestate.doom_clock >= gamestate.doom_max else '#b91c1c' }} {{ (gamestate.doom_clock / gamestate.doom_max) * 100 }}%, 
            transparent 0
         );">
        <div class="absolute w-16 h-16 bg-zinc-900 rounded-full flex items-center justify-center border border-zinc-800">
            <span class="text-2xl font-black {{ 'text-red-500 animate-pulse' if gamestate.doom_clock >= gamestate.doom_max else 'text-zinc-500' }}">
                {{ gamestate.doom_clock }}
            </span>
        </div>
    </div>

    <div class="flex gap-2 z-10">
        <button hx-post="/gamestate/doom/dec" hx-target="#doom-clock-container" hx-swap="outerHTML"
                class="bg-zinc-800 hover:bg-zinc-700 text-zinc-400 w-8 h-8 flex items-center justify-center font-bold border border-zinc-700">-</button>
        
        <button hx-post="/gamestate/doom/inc" hx-target="#doom-clock-container" hx-swap="outerHTML"
                class="bg-red-900/20 hover:bg-red-900/40 text-red-500 w-8 h-8 flex items-center justify-center font-bold border border-red-900/50">+</button>
        
        <button hx-post="/gamestate/doom/reset" hx-target="#doom-clock-container" hx-swap="outerHTML"
                title="Resetar Ameaça"
                class="bg-zinc-950 text-zinc-600 hover:text-red-500 w-8 h-8 flex items-center justify-center border border-zinc-800">
            <i data-lucide="rotate-ccw" width="14"></i>
        </button>
    </div>
</div>
